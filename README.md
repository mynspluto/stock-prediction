# 주식 가격 예측 파이프라인

## 개요

과거 주식 가격을 바탕으로 미래의 주식 가격을 예측하는 파이프라인을 구축했습니다

## 목적

ETL 파이프라인 구축과 모델 학습을 구현하여 데이터 엔지니어링의 핵심 요소를 경험하기 위함입니다

## 기술 스택

Airflow, Hadoop, Kafka, Kubernetes(Minikube), Docker, Next, FastAPI

## 주요 기능

- 데이터 수집
  - Airflow Dag로 등록된 수집 로직이 주기적으로 실행
  - 야후 파이낸스 API로 데이터를 수집
- 데이터 저장
  - 전체 데이터를 YYYY-MM(년-월) 단위로 파싱하여 파일을 분할하여 저장
- 모델 학습, 저장
  - 분할된 파일을 하둡의 맵리듀스를 통해 전처리
  - 가격의 변화로 변화율을 추출
  - 가격의 변화율을 기반으로 모델을 학습
  - 이를 하둡을 통해 저장
- 모델 로드, 예측
  - 저장된 모델을 로드
  - 로드된 모델로 가격 예측 API를 구현
  - API 리스폰스에 예측된 가격을 포함
  - 예측된 가격과 실제 가격의 오차가 크면 카프카 메시지를 발송
- 자동 배포
  - Github Action을 사용하여 자동 배포 구성
  - Kubernetes Rolling을 통해 무중단으로 운영 중

## 시스템 구성도

![시스템 구성도](./system_diagram.svg)
